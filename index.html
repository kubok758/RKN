<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†–ö–ù - Simulator Ultimate</title>
    <style>
        /* –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò */
        *, *::before, *::after { box-sizing: border-box; }

        body {
            margin: 0;
            padding: 0;
            background-color: #0f0f11;
            color: white;
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- –ê–ù–ò–ú–ê–¶–ò–ò --- */
        @keyframes rainbow { 
            0% { border-color: red; box-shadow: 0 0 20px red; }
            20% { border-color: yellow; box-shadow: 0 0 20px yellow; }
            40% { border-color: lime; box-shadow: 0 0 20px lime; }
            60% { border-color: cyan; box-shadow: 0 0 20px cyan; }
            80% { border-color: magenta; box-shadow: 0 0 20px magenta; }
            100% { border-color: red; box-shadow: 0 0 20px red; }
        }
        @keyframes rgb-bg-flash {
            0% { background-color: #ff0000; box-shadow: inset 0 0 20px #ff0000; }
            20% { background-color: #ffff00; box-shadow: inset 0 0 20px #ffff00; }
            40% { background-color: #00ff00; box-shadow: inset 0 0 20px #00ff00; }
            60% { background-color: #00ffff; box-shadow: inset 0 0 20px #00ffff; }
            80% { background-color: #0000ff; box-shadow: inset 0 0 20px #0000ff; }
            100% { background-color: #ff00ff; box-shadow: inset 0 0 20px #ff00ff; }
        }
        @keyframes hue-spin {
            from { filter: hue-rotate(0deg); }
            to { filter: hue-rotate(360deg); }
        }
        @keyframes ultra-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes pulse-gold { 0% { box-shadow: 0 0 10px #ffd700; } 50% { box-shadow: 0 0 40px #ffd700, inset 0 0 30px #ffd700; } 100% { box-shadow: 0 0 10px #ffd700; } }
        @keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-3px, 3px); } 40% { transform: translate(-3px, -3px); } 60% { transform: translate(3px, 3px); } 80% { transform: translate(3px, -3px); } 100% { transform: translate(0); } }
        @keyframes blackhole { 0% { box-shadow: inset 0 0 20px #000; transform: scale(1); } 50% { box-shadow: inset 0 0 100px #000; transform: scale(0.98); } 100% { box-shadow: inset 0 0 20px #000; transform: scale(1); } }
        @keyframes shake-hard { 0% { transform: translate(1px, 1px); } 100% { transform: translate(-1px, -2px); } }

        /* --- –ò–ù–¢–ï–†–§–ï–ô–° --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            width: 100%;
            background: #151517;
            border-bottom: 1px solid #333;
            position: fixed;
            top: 0;
            z-index: 50;
            height: 70px;
        }

        .header-left { display: flex; align-items: center; gap: 10px; }
        header img { width: 35px; height: 35px; cursor: pointer; } /* –ö—É—Ä—Å–æ—Ä –¥–ª—è –ª–æ–≥–æ */
        .header-title h1 { font-size: 16px; margin: 0; color: #ccc; }
        .header-title p { font-size: 10px; color: #666; margin: 0; }

        .balance-box {
            background: #252528;
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid #444;
            font-weight: bold;
            color: #ffd700;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }

        .spacer { height: 90px; }
        h2.main-title { font-size: 20px; margin: 20px 0 30px 0; text-align: center; font-weight: bold; }

        /* --- –†–£–õ–ï–¢–ö–ê --- */
        .roulette-container {
            position: relative;
            width: 95%;
            max-width: 600px;
            height: 140px;
            background: #1a1a1d;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #333;
            margin-bottom: 30px;
            transition: all 0.3s;
        }

        .roulette-track { display: flex; height: 100%; align-items: center; will-change: transform; }

        .app-item {
            width: 100px;
            height: 100px;
            background: #252528;
            border-radius: 15px;
            margin: 0 5px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
            border: 1px solid #333;
            position: relative;
        }
        .app-item img { width: 50px; height: 50px; margin-bottom: 8px; border-radius: 10px; object-fit: cover; }
        .app-item span { font-size: 11px; color: #aaa; max-width: 90px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        
        .center-line {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 4px; height: 100%; background: #ffd700; z-index: 10;
            box-shadow: 0 0 10px #ffd700; opacity: 0.8;
        }

        /* --- –£–õ–¨–¢–†–ê–ë–ê–ù –°–¢–ò–õ–¨ --- */
        .app-item.ultra {
            animation: rgb-bg-flash 2s linear infinite, ultra-pulse 0.5s ease-in-out infinite alternate;
            border: 3px solid white;
        }
        .app-item.ultra img { animation: hue-spin 1s linear infinite; filter: contrast(150%); }
        .app-item.ultra span { color: black; font-weight: 900; background: white; padding: 2px 5px; border-radius: 4px; }

        /* --- –°–ö–ò–ù–´ --- */
        .skin-paper { border: 4px solid #d7c9a8; background: #f5f5dc; }
        .skin-paper .app-item:not(.ultra) { background: #e8e0c5; border: 1px solid #c0b393; border-radius: 2px; }
        .skin-paper .app-item:not(.ultra) span { color: #5a4a32; font-family: 'Courier New', monospace; font-weight: bold; }
        .skin-paper .center-line { background: #ff0000; width: 2px; }

        .skin-retro { border: 4px outset #ccc; background: #008080; }
        .skin-retro .app-item:not(.ultra) { background: #c0c0c0; border: 2px outset #fff; border-radius: 0; }
        .skin-retro .app-item:not(.ultra) span { color: black; font-family: Tahoma, sans-serif; }
        .skin-retro .center-line { background: #000080; width: 3px; }

        .skin-matrix { border: 2px solid #0f0; background: #000; box-shadow: 0 0 15px #0f0; }
        .skin-matrix .app-item:not(.ultra) { background: #050505; border: 1px solid #003300; }
        .skin-matrix .app-item:not(.ultra) span { color: #0f0; text-shadow: 0 0 5px #0f0; font-family: monospace; }
        .skin-matrix .center-line { background: #0f0; box-shadow: 0 0 20px #0f0; }

        .skin-ussr { border: 4px solid #d32f2f; background: #2b0c0c; }
        .skin-ussr .app-item:not(.ultra) { background: #d32f2f; border: 2px solid #ffcc00; border-radius: 0; }
        .skin-ussr .app-item:not(.ultra) span { color: #ffcc00; font-weight: bold; text-transform: uppercase; }
        .skin-ussr .center-line { background: #ffcc00; width: 5px; }

        .skin-neon { border: 3px solid #00f3ff; box-shadow: 0 0 30px #00f3ff; background: #000; }
        .skin-neon .app-item:not(.ultra) { background: rgba(0, 243, 255, 0.05); border: 1px solid #00f3ff; }
        .skin-neon .app-item:not(.ultra) span { color: #00f3ff; }
        .skin-neon .center-line { background: #ff00ff; box-shadow: 0 0 20px #ff00ff; }

        .skin-gold { border: 3px solid #ffd700; animation: pulse-gold 2s infinite; background: #1a1a1a; }
        .skin-gold .app-item:not(.ultra) { background: linear-gradient(135deg, #333, #000); border: 1px solid #ffd700; }
        .skin-gold .app-item:not(.ultra) span { color: #ffd700; }
        .skin-gold .center-line { background: #fff; box-shadow: 0 0 20px #fff; }

        .skin-lava { border: 4px solid #ff4500; background: linear-gradient(45deg, #ff0000, #ff4500); }
        .skin-lava .app-item:not(.ultra) { background: rgba(0,0,0,0.6); border: 1px solid #ff4500; }
        .skin-lava .app-item:not(.ultra) span { color: #ffae00; font-weight: bold; }
        .skin-lava .center-line { background: #ffff00; box-shadow: 0 0 15px #ff4500; }

        .skin-ice { border: 4px solid #a5f2f3; background: #e0f7fa; box-shadow: 0 0 20px #a5f2f3; }
        .skin-ice .app-item:not(.ultra) { background: rgba(255,255,255,0.8); border: 1px solid #00bcd4; }
        .skin-ice .app-item:not(.ultra) span { color: #006064; font-weight: bold; }
        
        .skin-glitch { border: 2px solid white; background: #111; animation: glitch 0.3s infinite; }
        .skin-glitch .app-item:not(.ultra) { background: #222; border: 1px dashed white; }
        .skin-glitch .app-item:not(.ultra) span { color: white; text-decoration: line-through; }
        
        .skin-rgb { border: 5px solid red; animation: rainbow 2s linear infinite; background: #000; }
        .skin-rgb .app-item:not(.ultra) { background: #111; border: 1px solid #333; }
        .skin-rgb .app-item:not(.ultra) span { color: white; }
        
        .skin-oil { border: 5px solid #000; background: #1c1c1c; box-shadow: inset 0 0 50px #000; }
        .skin-oil .app-item:not(.ultra) { background: linear-gradient(to bottom, #333, #000); border: 1px solid #444; }
        .skin-oil .app-item:not(.ultra) span { color: #888; }
        .skin-oil .center-line { background: #000; width: 6px; border: 1px solid #333; }

        .skin-space { border: 3px solid #9c27b0; background: radial-gradient(circle, #311b92 0%, #000000 100%); box-shadow: 0 0 30px #9c27b0; }
        .skin-space .app-item:not(.ultra) { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); }
        .skin-space .app-item:not(.ultra) span { color: #e1bee7; }

        .skin-illuminati { border: 3px double #33ff00; background: #001a00; }
        .skin-illuminati .app-item:not(.ultra) { background: #000; border: 1px solid #33ff00; transform: rotate(1deg); }
        .skin-illuminati .center-line { background: #33ff00; width: 1px; box-shadow: 0 0 50px #33ff00; }

        .skin-blackhole { border: none; background: #000; animation: blackhole 5s infinite; box-shadow: 0 0 50px #000; }
        .skin-blackhole .app-item:not(.ultra) { background: #000; border: 1px solid #222; border-radius: 50%; transform: scale(0.9); }
        .skin-blackhole .app-item:not(.ultra) span { color: #444; font-size: 8px; }
        .skin-blackhole .center-line { background: white; width: 1px; box-shadow: 0 0 20px white; }

        .skin-multiverse { border: 5px dashed #ff00ff; background: url('https://media.giphy.com/media/26tOZ42Mg6pbTUPvy/giphy.gif'); background-size: cover; }
        .skin-multiverse .app-item:not(.ultra) { background: rgba(255,255,255,0.2); border: 2px solid white; backdrop-filter: blur(5px); }
        .skin-multiverse .app-item:not(.ultra) span { color: white; text-shadow: 2px 2px 0 #000; }

        .skin-timelord { border: 5px double #c0a062; background: #161005; box-shadow: inset 0 0 100px #524220; }
        .skin-timelord .app-item:not(.ultra) { border: 1px solid #c0a062; background: transparent; transform: skewX(-10deg); }
        .skin-timelord .app-item:not(.ultra) span { color: #c0a062; letter-spacing: 2px; }

        .skin-admin { border: 5px solid white; background: #fff; box-shadow: 0 0 100px white; }
        .skin-admin .app-item:not(.ultra) { background: white; border: 2px solid #ddd; }
        .skin-admin .app-item:not(.ultra) span { color: #000; font-weight: 900; }
        .skin-admin .center-line { background: #000; width: 5px; }

        .skin-the-end { border: 10px solid #ff0000; background: #000; animation: shake-hard 0.2s infinite; box-shadow: 0 0 100px red, inset 0 0 100px red; }
        .skin-the-end .app-item:not(.ultra) { background: #200000; border: 2px solid red; filter: contrast(200%) grayscale(100%); }
        .skin-the-end .app-item:not(.ultra) img { filter: invert(1); }
        .skin-the-end .app-item:not(.ultra) span { color: red; font-family: 'Courier New'; text-transform: uppercase; }
        .skin-the-end .center-line { background: red; width: 10px; box-shadow: 0 0 50px red; }

        /* --- UI –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .controls { display: flex; gap: 15px; width: 90%; max-width: 400px; justify-content: center; }
        
        .btn {
            border: none; padding: 15px 0; font-size: 16px; font-weight: bold; border-radius: 12px;
            cursor: pointer; text-transform: uppercase; transition: transform 0.1s; flex: 1;
            display: flex; justify-content: center; align-items: center;
        }
        .btn:active { transform: scale(0.95); }

        .spin-btn { background: #444; color: #aaa; font-size: 18px; }
        .spin-btn.active { background: #ffd700; color: black; box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
        .shop-btn { background: #4285f4; color: white; box-shadow: 0 0 20px rgba(66, 133, 244, 0.3); }

        /* –¢–ê–ô–ú–ï–† –ë–£–°–¢–ê */
        .boost-timer {
            margin-top: 15px;
            font-size: 16px;
            font-weight: bold;
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00;
            display: none; /* –°–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            background: rgba(0, 50, 0, 0.5);
            padding: 5px 15px;
            border-radius: 10px;
            border: 1px solid #00ff00;
        }

        /* --- –ú–û–î–ê–õ–ö–ò --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); display: none;
            justify-content: center; align-items: center; z-index: 100; backdrop-filter: blur(5px);
        }

        .modal-card {
            background: #1e1e20; padding: 25px; border-radius: 20px; text-align: center;
            width: 90%; max-width: 350px; border: 1px solid #333; animation: popIn 0.3s ease;
        }
        @keyframes popIn { from{transform:scale(0.8);opacity:0} to{transform:scale(1);opacity:1} }

        .app-preview img { width: 90px; height: 90px; border-radius: 20px; margin-bottom: 15px; }
        .app-preview h3 { font-size: 22px; margin: 0 0 20px 0; }
        
        .action-btn { width: 100%; padding: 14px; margin-bottom: 10px; border: none; border-radius: 10px; font-weight: bold; color: white; cursor: pointer; }
        .btn-restrict { background: #e67e22; }
        .btn-slow { background: #9da631; }
        .btn-ban { background: #c0392b; }

        .take-btn { background: #ffd700; width: 100%; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; }

        /* –ú–∞–≥–∞–∑–∏–Ω –°—Ç–∏–ª–∏ */
        .shop-list { display: flex; flex-direction: column; gap: 10px; max-height: 60vh; overflow-y: auto; text-align: left; margin-bottom: 15px; }
        .shop-item { 
            background: #2a2a2d; padding: 12px; border-radius: 12px; 
            display: flex; justify-content: space-between; align-items: center; border: 1px solid #444; 
        }
        .shop-item-info { display: flex; flex-direction: column; gap: 3px; width: 65%; }
        .item-mult { color: #00e676; font-size: 11px; font-weight: bold; }
        .buy-btn { background: #4caf50; color: white; border: none; padding: 8px 12px; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 12px; min-width: 70px; }
        .buy-btn.equipped { background: #ffd700; color: black; cursor: default; }
    </style>
</head>
<body>

    <header>
        <div class="header-left">
            <img id="headerLogo" src="logo.png" alt="RKN" onclick="handleLogoClick()">
            <div class="header-title">
                <h1>–†–û–°–ö–û–ú–ù–ê–î–ó–û–†</h1>
                <p>–ë–∞–ª–∞–Ω—Å —Å–∏—Å—Ç–µ–º—ã</p>
            </div>
        </div>
        <div class="balance-box">
            <span id="balanceDisplay">0</span> ‚ÇΩ
        </div>
    </header>

    <div class="spacer"></div>
    <h2 class="main-title">–ß–¢–û –ó–ê–ü–†–ï–¢–ò–ú –°–ï–ì–û–î–ù–Ø?</h2>

    <div class="roulette-container" id="rouletteBox">
        <div class="center-line"></div>
        <div class="roulette-track" id="track"></div>
    </div>

    <div class="controls">
        <button class="btn shop-btn" onclick="openShop()">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
        <button id="spinBtn" class="btn spin-btn active" onclick="spinRoulette()">–ö–†–£–¢–ò–¢–¨</button>
    </div>
    
    <div id="boostTimer" class="boost-timer">–ë–£–°–¢: 15:00</div>

    <div class="modal-overlay" id="actionModal">
        <div class="modal-card">
            <div class="app-preview">
                <img id="selectedAppImg" src="" alt="">
                <h3 id="selectedAppName">App</h3>
            </div>
            <button class="action-btn btn-restrict" onclick="chooseAction('–û–ì–†–ê–ù–ò–ß–ò–¢–¨')">–û–ì–†–ê–ù–ò–ß–ò–¢–¨</button>
            <button class="action-btn btn-slow" onclick="chooseAction('–ó–ê–ú–ï–î–õ–ò–¢–¨')">–ó–ê–ú–ï–î–õ–ò–¢–¨</button>
            <button class="action-btn btn-ban" onclick="chooseAction('–ó–ê–ë–ê–ù–ò–¢–¨')">–ó–ê–ë–ê–ù–ò–¢–¨</button>
        </div>
    </div>

    <div class="modal-overlay" id="rewardModal">
        <div class="modal-card" style="background: linear-gradient(135deg, #a32222, #7f1a1a); border: 1px solid #ff5252;">
            <div id="resultStamp" style="border: 3px solid white; display: inline-block; padding: 5px 15px; font-weight: bold; font-size: 20px; transform: rotate(-5deg); margin-bottom: 20px; background: #d32f2f;">–ó–ê–ë–ê–ù–ï–ù–û</div>
            <p style="font-size: 12px; color: #ddd; margin: 0;">–ë—é–¥–∂–µ—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞</p>
            <h2 id="moneyText" style="font-size: 32px; margin: 10px 0 25px 0;">0 ‚ÇΩ</h2>
            <button class="take-btn" onclick="collectMoney()">–ó–∞–±—Ä–∞—Ç—å –≤ –±—é–¥–∂–µ—Ç</button>
        </div>
    </div>

    <div class="modal-overlay" id="shopModal">
        <div class="modal-card" style="max-width: 400px;">
            <h2 style="margin: 0 0 15px 0;">–ì–æ—Å–∑–∞–∫—É–ø–∫–∏</h2>
            <div class="shop-list" id="shopList"></div>
            <button class="btn" style="background: transparent; border: 1px solid #555; color: #aaa; width: 100%; padding: 10px;" onclick="closeShop()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        const apps = [
            { name: "CapCut", img: "capcut.png" }, { name: "ChatGPT", img: "chatgpt.png" },
            { name: "WhatsApp", img: "whatsapp.png" }, { name: "X (Twitter)", img: "x.png" },
            { name: "Zoom", img: "zoom.png" }, { name: "Teams", img: "teams.png" },
            { name: "TikTok", img: "tiktok.png" }, { name: "YouTube", img: "youtube.png" },
            { name: "Discord", img: "discord.png" }, { name: "Telegram", img: "telegram.png" },
            { name: "Instagram", img: "instagram.png" }, { name: "Facebook", img: "facebook.png" },
            { name: "Twitch", img: "twitch.png" }, { name: "Spotify", img: "spotify.png" },
            { name: "Netflix", img: "netflix.png" }, { name: "Steam", img: "steam.png" },
            { name: "Roblox", img: "roblox.png" }, { name: "Pinterest", img: "pinterest.png" },
            { name: "Reddit", img: "reddit.png" }, { name: "Snapchat", img: "snapchat.png" },
            { name: "LinkedIn", img: "linkedin.png" }, { name: "GitHub", img: "github.png" },
            { name: "Wikipedia", img: "wikipedia.png" }, { name: "Google", img: "google.png" },
            { name: "Amazon", img: "amazon.png" }, { name: "Viber", img: "viber.png" },
            { name: "Signal", img: "signal.png" }, { name: "Skype", img: "skype.png" },
            { name: "SoundCloud", img: "soundcloud.png" }, { name: "Minecraft", img: "minecraft.png" },
            { name: "Brawl Stars", img: "brawlstars.png" }, { name: "Likee", img: "likee.png" }
        ];

        // --- –ú–£–ó–´–ö–ê ---
        const rknAudio = new Audio('RKN.mp3');
        rknAudio.loop = true; 

        // --- –°–ü–ò–°–û–ö –¢–û–í–ê–†–û–í ---
        const shopItems = [
            { id: 'default', name: '–°—Ç–∞–Ω–¥–∞—Ä—Ç', price: 0, mult: 1, desc: '–û–±—ã—á–Ω—ã–π –≤–∏–¥' },
            { id: 'paper', name: '–ë—é—Ä–æ–∫—Ä–∞—Ç–∏—è', price: 50000, mult: 1.2, desc: '–ó–∞–≤–∞–ª–µ–Ω–æ –±—É–º–∞–≥–∞–º–∏', class: 'skin-paper' },
            { id: 'retro', name: 'Windows 95', price: 150000, mult: 1.5, desc: '–°—Ç–∞—Ä–∞—è —à–∫–æ–ª–∞', class: 'skin-retro' },
            { id: 'dark', name: '–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º', price: 250000, mult: 1.8, desc: '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞', class: 'skin-oil' }, 
            { id: 'ice', name: '–õ–µ–¥–Ω–∏–∫–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥', price: 500000, mult: 2.5, desc: '–ü–æ–ª–Ω–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞', class: 'skin-ice' },
            { id: 'matrix', name: '–•–∞–∫–µ—Ä', price: 800000, mult: 3.0, desc: '–¢—ã –≤ —Å–∏—Å—Ç–µ–º–µ', class: 'skin-matrix' },
            { id: 'ussr', name: '–°–æ–≤–µ—Ç—Å–∫–∞—è –≤–ª–∞—Å—Ç—å', price: 1000000, mult: 3.5, desc: '–ñ–µ–ª–µ–∑–Ω—ã–π –∑–∞–Ω–∞–≤–µ—Å', class: 'skin-ussr' },
            { id: 'neon', name: 'Cyber RKN', price: 2000000, mult: 5.0, desc: '–ë—É–¥—É—â–µ–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ', class: 'skin-neon' },
            { id: 'gold', name: 'Luxury Gold', price: 5000000, mult: 8.0, desc: '–ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ –∑–æ–ª–æ—Ç–æ', class: 'skin-gold' },
            { id: 'glitch', name: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ–π', price: 10000000, mult: 10.0, desc: '–°–∏—Å—Ç–µ–º–∞ —Å–ª–æ–º–∞–Ω–∞', class: 'skin-glitch' },
            { id: 'lava', name: '–ê–¥—Å–∫–∏–π –æ–≥–æ–Ω—å', price: 25000000, mult: 15.0, desc: '–°–∂–∏–≥–∞–µ—Ç –±—é–¥–∂–µ—Ç', class: 'skin-lava' },
            { id: 'rgb', name: 'RGB –ì–µ–π–º–µ—Ä', price: 50000000, mult: 20.0, desc: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π FPS', class: 'skin-rgb' },
            { id: 'oil', name: '–ù–µ—Ñ—Ç—è–Ω–æ–π –º–∞–≥–Ω–∞—Ç', price: 100000000, mult: 25.0, desc: '–ß–µ—Ä–Ω–æ–µ –∑–æ–ª–æ—Ç–æ', class: 'skin-oil' },
            { id: 'space', name: '–ì–∞–ª–∞–∫—Ç–∏–∫–∞', price: 500000000, mult: 35.0, desc: '–ë–ª–æ–∫–∏—Ä—É–µ–º –ø–ª–∞–Ω–µ—Ç—ã', class: 'skin-space' },
            { id: 'illuminati', name: '–¢–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ', price: 1000000000, mult: 50.0, desc: '–í—Å–µ–≤–∏–¥—è—â–µ–µ –æ–∫–æ', class: 'skin-illuminati' },
            { id: 'blackhole', name: '–ß–µ—Ä–Ω–∞—è –î—ã—Ä–∞', price: 100000000000, mult: 100.0, desc: '–ü–æ–≥–ª–æ—â–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫', class: 'skin-blackhole' },
            { id: 'multiverse', name: '–ú—É–ª—å—Ç–∏–≤—Å–µ–ª–µ–Ω–Ω–∞—è', price: 500000000000, mult: 250.0, desc: '–ë–∞–Ω –≤ 5 –∏–∑–º–µ—Ä–µ–Ω–∏—è—Ö', class: 'skin-multiverse' },
            { id: 'timelord', name: '–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å –í—Ä–µ–º–µ–Ω–∏', price: 5000000000000, mult: 500.0, desc: '–ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏', class: 'skin-timelord' },
            { id: 'admin', name: '–ê–¥–º–∏–Ω –†–µ–∞–ª—å–Ω–æ—Å—Ç–∏', price: 20000000000000, mult: 1000.0, desc: '–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–π', class: 'skin-admin' },
            { id: 'the_end', name: '–í–õ–ê–°–¢–ï–õ–ò–ù –ò–ù–¢–ï–†–ù–ï–¢–ê', price: 100000000000000, mult: 9999.0, desc: '‚ô´ –ú–£–ó–´–ö–ê–õ–¨–ù–´–ô –°–ö–ò–ù ‚ô´', class: 'skin-the-end' }
        ];

        let balance = parseInt(localStorage.getItem('rkn_balance')) || 0;
        let inventory = JSON.parse(localStorage.getItem('rkn_inventory')) || ['default'];
        let currentSkinId = localStorage.getItem('rkn_skin') || 'default';
        let currentWinAmount = 0;
        
        // --- –ü–ï–†–ï–ú–ï–ù–ù–´–ï –î–õ–Ø –ö–û–î–ê ---
        let logoClicks = 0;
        let clickResetTimer;
        let isBoostActive = false;
        let boostInterval;
        let codeUsed = localStorage.getItem('rkn_code_used') === 'true'; // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–∏ –∫–æ–¥

        const CARD_WIDTH = 100; 
        const MARGIN_SIDE = 5;  
        const SLOT_WIDTH = CARD_WIDTH + (MARGIN_SIDE * 2);

        const track = document.getElementById('track');
        let isSpinning = false;
        let rouletteList = [];

        function init() {
            updateBalanceUI();
            applySkin(currentSkinId);
            checkBoostStatus(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –±—É—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            
            if(currentSkinId === 'the_end') {
                rknAudio.play().catch(e => console.log("–ù—É–∂–µ–Ω –∫–ª–∏–∫ –¥–ª—è –º—É–∑—ã–∫–∏"));
            }

            // –û—á–∏—â–∞–µ–º —Ç—Ä–µ–∫ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π (–≤–∞–∂–Ω–æ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±—É—Å—Ç–∞)
            track.innerHTML = '';
            rouletteList = [];

            // --- –ì–ï–ù–ï–†–ê–¶–ò–Ø –õ–ï–ù–¢–´ ---
            // –®–∞–Ω—Å —É–ª—å—Ç—Ä–∞–±–∞–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—É—Å—Ç–∞
            const ultraChance = isBoostActive ? 0.3 : 0.005; // 30% –µ—Å–ª–∏ –±—É—Å—Ç, –∏–Ω–∞—á–µ 0.5%

            for(let i=0; i<50; i++) {
                let batch = [...apps];
                batch.sort(() => Math.random() - 0.5);
                
                batch = batch.map(app => {
                    if(Math.random() < ultraChance) { 
                        return { 
                            name: "–£–õ–¨–¢–†–ê–ë–ê–ù", 
                            img: "logo.png",
                            isUltra: true 
                        };
                    }
                    return app;
                });

                rouletteList = rouletteList.concat(batch);
            }
            
            rouletteList.forEach(app => {
                const div = document.createElement('div');
                div.className = 'app-item' + (app.isUltra ? ' ultra' : '');
                div.innerHTML = `<img src="${app.img}"><span>${app.name}</span>`;
                track.appendChild(div);
            });
        }
        init();

        // --- –õ–û–ì–ò–ö–ê –°–ï–ö–†–ï–¢–ù–û–ì–û –ö–û–î–ê ---
        function handleLogoClick() {
            logoClicks++;
            
            // –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –∫–ª–∏–∫–æ–≤ –µ—Å–ª–∏ –ø–∞—É–∑–∞ –±–æ–ª—å—à–µ 1 —Å–µ–∫
            clearTimeout(clickResetTimer);
            clickResetTimer = setTimeout(() => {
                logoClicks = 0;
            }, 1000);

            if(logoClicks >= 10) {
                logoClicks = 0;
                if(codeUsed) {
                    alert("–ü—Ä–æ–º–æ–∫–æ–¥ —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!");
                    return;
                }
                askForCode();
            }
        }

        function askForCode() {
            const code = prompt("–í–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:");
            if(code === "RKNPIDORI") {
                activateBoost();
            } else if (code) {
                alert("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥!");
            }
        }

        function activateBoost() {
            alert("–ü–†–û–ú–û–ö–û–î –ê–ö–¢–ò–í–ò–†–û–í–ê–ù! –®–ê–ù–° –£–õ–¨–¢–†–ê–ë–ê–ù–ê 30% –ù–ê 15 –ú–ò–ù–£–¢!");
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è (—Ç–µ–∫—É—â–µ–µ + 15 –º–∏–Ω—É—Ç)
            const endTime = Date.now() + 15 * 60 * 1000;
            localStorage.setItem('rkn_boost_end', endTime);
            
            // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
            localStorage.setItem('rkn_code_used', 'true');
            codeUsed = true;

            checkBoostStatus();
            init(); // –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ª–µ–Ω—Ç—É —Å –Ω–æ–≤—ã–º —à–∞–Ω—Å–æ–º
        }

        function checkBoostStatus() {
            const endTime = parseInt(localStorage.getItem('rkn_boost_end'));
            
            if (endTime && endTime > Date.now()) {
                isBoostActive = true;
                document.getElementById('boostTimer').style.display = 'block';
                
                // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
                if (boostInterval) clearInterval(boostInterval);
                boostInterval = setInterval(() => {
                    const now = Date.now();
                    const left = endTime - now;
                    
                    if (left <= 0) {
                        // –í—Ä–µ–º—è –≤—ã—à–ª–æ
                        clearInterval(boostInterval);
                        isBoostActive = false;
                        document.getElementById('boostTimer').style.display = 'none';
                        localStorage.removeItem('rkn_boost_end');
                        init(); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ã—á–Ω—ã–π —à–∞–Ω—Å
                    } else {
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
                        const min = Math.floor(left / 60000);
                        const sec = Math.floor((left % 60000) / 1000);
                        document.getElementById('boostTimer').innerText = 
                            `–ë–£–°–¢: ${min}:${sec < 10 ? '0' : ''}${sec}`;
                    }
                }, 1000);
            } else {
                isBoostActive = false;
                document.getElementById('boostTimer').style.display = 'none';
            }
        }

        // --- –†–£–õ–ï–¢–ö–ê ---

        function spinRoulette() {
            if (isSpinning) return;
            isSpinning = true;
            document.getElementById('spinBtn').classList.remove('active');

            const stopIndex = Math.floor(Math.random() * 500) + 500; 
            const selectedApp = rouletteList[stopIndex];

            const containerCenter = document.getElementById('rouletteBox').offsetWidth / 2;
            const itemLeftPos = (stopIndex * SLOT_WIDTH) + MARGIN_SIDE;
            const itemCenterPos = itemLeftPos + (CARD_WIDTH / 2);
            const offset = -(itemCenterPos - containerCenter);

            track.style.transition = "transform 4s cubic-bezier(0.1, 0.9, 0.2, 1)";
            track.style.transform = `translateX(${offset}px)`;

            setTimeout(() => {
                showActionChoice(selectedApp);
                isSpinning = false;
            }, 4000);
        }

        function showActionChoice(app) {
            if(app.isUltra) {
                triggerUltraReward();
                return;
            }

            document.getElementById('selectedAppImg').src = app.img;
            document.getElementById('selectedAppName').innerText = app.name;
            document.getElementById('actionModal').style.display = 'flex';
        }

        function triggerUltraReward() {
            const basePool = 200000 * 32; 
            const skinData = shopItems.find(i => i.id === currentSkinId);
            const multiplier = skinData ? skinData.mult : 1;
            
            currentWinAmount = basePool * multiplier;

            const stamp = document.getElementById('resultStamp');
            stamp.innerText = "–£–õ–¨–¢–†–ê–ë–ê–ù";
            stamp.style.background = "linear-gradient(45deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff)";
            stamp.style.animation = "hue-spin 1s linear infinite";

            document.getElementById('moneyText').innerText = currentWinAmount.toLocaleString() + ' ‚ÇΩ';
            document.getElementById('rewardModal').style.display = 'flex';
        }

        function chooseAction(type) {
            document.getElementById('actionModal').style.display = 'none';
            
            const stamp = document.getElementById('resultStamp');
            stamp.innerText = type;
            stamp.style.animation = "none";
            
            if(type === '–ó–ê–ë–ê–ù–ï–ù–û') stamp.style.background = '#c0392b';
            if(type === '–ó–ê–ú–ï–î–õ–ï–ù–û') stamp.style.background = '#9da631';
            if(type === '–û–ì–†–ê–ù–ò–ß–ò–¢–¨') stamp.style.background = '#e67e22';

            let min = 20000, max = 50000;
            if(type === '–ó–ê–ú–ï–î–õ–ò–¢–¨') { min = 50000; max = 80000; }
            if(type === '–ó–ê–ë–ê–ù–ò–¢–¨') { min = 100000; max = 200000; }

            const skinData = shopItems.find(i => i.id === currentSkinId);
            const multiplier = skinData ? skinData.mult : 1;

            min *= multiplier;
            max *= multiplier;

            const rawMoney = Math.floor(Math.random() * (max - min + 1)) + min;
            currentWinAmount = Math.ceil(rawMoney / 100) * 100;

            document.getElementById('moneyText').innerText = currentWinAmount.toLocaleString() + ' ‚ÇΩ';
            document.getElementById('rewardModal').style.display = 'flex';
        }

        function collectMoney() {
            balance += currentWinAmount;
            localStorage.setItem('rkn_balance', balance);
            updateBalanceUI();
            
            document.getElementById('rewardModal').style.display = 'none';
            document.getElementById('spinBtn').classList.add('active');
            track.style.transition = "none";
            track.style.transform = "translateX(0px)";
        }

        function updateBalanceUI() {
            document.getElementById('balanceDisplay').innerText = balance.toLocaleString();
        }

        function openShop() {
            const list = document.getElementById('shopList');
            list.innerHTML = '';

            shopItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'shop-item';
                
                const isOwned = inventory.includes(item.id);
                const isEquipped = currentSkinId === item.id;
                
                let btnHtml = '';
                if (isEquipped) {
                    btnHtml = `<button class="buy-btn equipped">–ù–∞–¥–µ—Ç–æ</button>`;
                } else if (isOwned) {
                    btnHtml = `<button class="buy-btn" style="background:#2196f3" onclick="equip('${item.id}')">–ù–∞–¥–µ—Ç—å</button>`;
                } else {
                    btnHtml = `<button class="buy-btn" onclick="buy('${item.id}', ${item.price})">–ö—É–ø–∏—Ç—å</button>`;
                }

                div.innerHTML = `
                    <div class="shop-item-info">
                        <div style="font-weight:bold; font-size:15px;">${item.name}</div>
                        <div style="font-size:11px; color:#aaa">${item.desc}</div>
                        <div class="item-mult">–î–æ—Ö–æ–¥: x${item.mult}</div>
                        <div style="color:#ffd700; font-size:13px; margin-top:2px">${item.price > 0 ? item.price.toLocaleString() : '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ'}</div>
                    </div>
                    ${btnHtml}
                `;
                list.appendChild(div);
            });
            document.getElementById('shopModal').style.display = 'flex';
        }

        function closeShop() { document.getElementById('shopModal').style.display = 'none'; }

        function buy(id, price) {
            if (balance >= price) {
                balance -= price;
                inventory.push(id);
                localStorage.setItem('rkn_balance', balance);
                localStorage.setItem('rkn_inventory', JSON.stringify(inventory));
                updateBalanceUI();
                openShop();
            } else {
                alert("–ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥!");
            }
        }

        function equip(id) {
            currentSkinId = id;
            localStorage.setItem('rkn_skin', id);
            applySkin(id);

            if(id === 'the_end') {
                rknAudio.currentTime = 0;
                rknAudio.play().catch(e => console.log(e));
            } else {
                rknAudio.pause();
                rknAudio.currentTime = 0;
            }

            openShop();
        }

        function applySkin(id) {
            const box = document.getElementById('rouletteBox');
            box.className = 'roulette-container';
            const item = shopItems.find(i => i.id === id);
            if(item && item.class) box.classList.add(item.class);
        }
    </script>
</body>
</html>
 
